{"version":3,"sources":["panels/events.js","panels/messages.js","hooks/useShortText.js","panels/profile.js","messageComponents/message.js","messageComponents/messageList.js","panels/chat.js","App.js","index.js"],"names":["Events","style","height","icon","width","Messages","onChatOpen","map","e","before","gradientColor","calcInitialsAvatarColor","onClick","caption","str","length","substring","Profile","alignItems","size","Date","now","Message","self","text","hasAvatar","avatar","title","id","className","messages","firstName","lastName","time","MessageList","isPublic","h2ref","useRef","useEffect","setTimeout","current","scrollIntoView","behavior","m","index","ref","Chat","chatID","onClose","useState","writeBarText","setWriteBarText","bottomPadding","setBottomPadding","fixedLayoutInnerElRef","separator","status","vertical","paddingBottom","wide","value","onChange","target","onHeightChange","el","offsetHeight","updateBottomPadding","placeholder","after","mode","disabled","App","scheme","React","activeStory","setActiveStory","messagesActivePanel","setMessagesActivePanel","setChatID","hasTabbar","setHasTabbar","onStoryChange","currentTarget","dataset","story","header","justifyContent","animate","spaced","maxWidth","tabbar","selected","activePanel","chat_id","bridge","send","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.978baa88.chunk.js","sourcesContent":["import { Icon56NewsfeedOutline } from \"@vkontakte/icons\"\r\nimport { Group, PanelHeader, PanelHeaderBack, Placeholder } from \"@vkontakte/vkui\"\r\n\r\nexport const Events = () => {\r\n    return (\r\n        <>\r\n            <PanelHeader>События</PanelHeader>\r\n            <Group style={{ height: \"1000px\" }}>\r\n                <Placeholder\r\n                    icon={<Icon56NewsfeedOutline width={56} height={56} />}\r\n                />\r\n            </Group>\r\n        </>\r\n    )\r\n}\r\n","import { calcInitialsAvatarColor, Group, InitialsAvatar, List, PanelHeader, RichCell, Text } from \"@vkontakte/vkui\"\r\nimport { useShortText } from \"../hooks/useShortText\"\r\n\r\nexport const Messages = ({onChatOpen}) => {\r\n    return (\r\n        <>\r\n            <PanelHeader>Сообщения</PanelHeader>\r\n            <Group>\r\n                <List>\r\n                    {\r\n                        [1, 2, 3, 4].map(e => {\r\n                            return (\r\n                                <RichCell\r\n                                    before={\r\n                                        <InitialsAvatar gradientColor={calcInitialsAvatarColor(e)}>\r\n                                            C{e}\r\n                                        </InitialsAvatar>}\r\n                                    key={e}\r\n                                    onClick={() => onChatOpen(`Chat ${e}`)}\r\n                                    caption={\r\n                                        <Text>{useShortText(\"FirstName: last message very long text\", 30)} &#183; 2h</Text>\r\n                                    }\r\n                                >\r\n                                    Chat {e}\r\n                                </RichCell>\r\n                            )\r\n                        })\r\n                    }\r\n                </List>\r\n            </Group>\r\n        </>\r\n    )\r\n}","export const useShortText = (str, length) => {\r\n    return str.length > length ? str.substring(0, length) + \"...\" : str\r\n}","import { Icon28UserCircleOutline } from \"@vkontakte/icons\"\r\nimport { Group, PanelHeader, PanelHeaderBack, Placeholder, SimpleCell, Avatar, getAvatarUrl, InitialsAvatar, calcInitialsAvatarColor } from \"@vkontakte/vkui\"\r\n\r\nexport const Profile = () => {\r\n    return (\r\n        <>\r\n            <PanelHeader>Профиль</PanelHeader>\r\n            <Group style={{ height: \"1000px\" }}>\r\n                <Placeholder\r\n                    icon={<Icon28UserCircleOutline width={56} height={56} />}\r\n                ></Placeholder>\r\n                {/* <SimpleCell before={<Avatar src={\"D\"} />}>\r\n                    Олег Илларианов\r\n                </SimpleCell> */}\r\n                <InitialsAvatar style={{alignItems: \"center\"}} size={56} gradientColor={calcInitialsAvatarColor(Date.now())}>\r\n                    Ch\r\n                </InitialsAvatar>\r\n            </Group>\r\n        </>\r\n    )\r\n}","import { Avatar, calcInitialsAvatarColor, InitialsAvatar } from \"@vkontakte/vkui\"\r\n\r\nexport const Message = ({\r\n    self = false, \r\n    text,\r\n    caption = \"\",\r\n    hasAvatar = false,\r\n    avatar,\r\n    title,\r\n    id\r\n\r\n}) => {\r\n    return (\r\n        <div className={`messageBox ${self ? \"self\" : \"\"}`}>\r\n            {hasAvatar && avatar && <Avatar size={25}/>}\r\n            {hasAvatar && !avatar && \r\n                <InitialsAvatar size={25} gradientColor={calcInitialsAvatarColor(id)}>\r\n                    {title.substring(0, 2)}\r\n                </InitialsAvatar>\r\n            }\r\n            <div className={`messageTextBox ${self ? \"self\" : \"\"}`}>\r\n                {!self && <div className=\"messageTitle\">{title}</div>}\r\n                <div>{text}</div>\r\n                {caption && <div className=\"messageCaption\">{caption}</div>}\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useEffect, useRef } from \"react\"\r\nimport { Message } from \"./message\"\r\n\r\nconst userId = 1\r\n\r\nconst messages = [\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Shestakov\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"long long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Egor\",\r\n        lastName: \"Strupa\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Shestakov\",\r\n        time: \"21:05\"\r\n    },\r\n    {\r\n        id: 15,\r\n        text: \"wefewfewfewf fjnklewiof fwfjio\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"lon long long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Shestakov\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"long long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Egor\",\r\n        lastName: \"Strupa\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Shestakov\",\r\n        time: \"21:05\"\r\n    },\r\n    {\r\n        id: 15,\r\n        text: \"wefewfewfewf fjnklewiof fwfjio\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"lon long long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Shestakov\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"long long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Egor\",\r\n        lastName: \"Strupa\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Shestakov\",\r\n        time: \"21:05\"\r\n    },\r\n    {\r\n        id: 15,\r\n        text: \"wefewfewfewf fjnklewiof fwfjio\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"lon long long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Shestakov\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"long long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Egor\",\r\n        lastName: \"Strupa\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"poweofoewkfopwkoqfkwopekfokewopfkoewkfoewf\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n        avatar: \"t\"\r\n    },\r\n    {\r\n        id: 100,\r\n        text: \"text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Shestakov\",\r\n        time: \"21:05\"\r\n    },\r\n    {\r\n        id: 15,\r\n        text: \"wefewfewfewf fjnklewiof fwfjio\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n    },\r\n    {\r\n        id: 1,\r\n        text: \"lon long long text\",\r\n        firstName: \"Ivan\",\r\n        lastName: \"Gavrilovich\",\r\n        time: \"21:05\",\r\n    }\r\n]\r\n\r\nexport const MessageList = ({ isPublic = false}) => {\r\n    const h2ref = useRef(null);\r\n\r\n    useEffect(() => {\r\n        setTimeout(() => h2ref.current.scrollIntoView({ behavior: 'smooth' }), 320)\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"messageList\">\r\n                {messages.map(((m, index) => {\r\n                    return (\r\n                        <Message\r\n                            key={index}\r\n                            text={m.text}\r\n                            caption={m.time}\r\n                            hasAvatar={m.id != userId && isPublic}\r\n                            self={m.id == userId}\r\n                            title={isPublic && (m.firstName + \" \" + m.lastName)}\r\n                            avatar={m.avatar}\r\n                            id={m.id}\r\n                        />\r\n                    )\r\n                }))}\r\n            </div>\r\n            <div ref={h2ref}></div>\r\n        </>\r\n    )\r\n}","import { calcInitialsAvatarColor, Card, FixedLayout, Group, InitialsAvatar, PanelHeader, PanelHeaderBack, PanelHeaderContent, Separator, WriteBar, WriteBarIcon } from \"@vkontakte/vkui\"\r\nimport { Fragment, useEffect, useRef, useState } from \"react\";\r\nimport { MessageList } from \"../messageComponents/messageList\";\r\n\r\nexport const Chat = ({\r\n    chatID,\r\n    onClose\r\n}) => {\r\n    const [writeBarText, setWriteBarText] = useState(\"\")\r\n    const [bottomPadding, setBottomPadding] = useState(0);\r\n\r\n    const fixedLayoutInnerElRef = useRef();\r\n\r\n    const updateBottomPadding = () => {\r\n        const el = fixedLayoutInnerElRef.current;\r\n        if (el) {\r\n            const height = el.offsetHeight;\r\n            if (height !== bottomPadding) {\r\n                setBottomPadding(height);\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <PanelHeader className=\"shadowPanelHeader\" separator={false} before={<PanelHeaderBack onClick={() => onClose()}/>}>\r\n                <PanelHeaderContent\r\n                    before={\r\n                        <InitialsAvatar size={36} gradientColor={calcInitialsAvatarColor(Date.now())}>\r\n                            Ch\r\n                        </InitialsAvatar>\r\n                    }\r\n                    status=\"10 участников\"\r\n                >\r\n                    {chatID}\r\n                </PanelHeaderContent>\r\n            </PanelHeader>\r\n            <MessageList isPublic/>\r\n            <FixedLayout\r\n                vertical=\"bottom\"\r\n                style={{paddingBottom: 0}}\r\n            >\r\n                <div ref={fixedLayoutInnerElRef}>\r\n                    <Separator wide />\r\n                    <WriteBar\r\n                        value={writeBarText}\r\n                        onChange={(e) => setWriteBarText(e.target.value)}\r\n                        onHeightChange={() => updateBottomPadding()}\r\n                        placeholder=\"Сообщение\"\r\n                        after={\r\n                            <Fragment>\r\n                                <WriteBarIcon mode=\"send\" disabled={writeBarText.length === 0}/>\r\n                            </Fragment>\r\n                        }\r\n                    />\r\n                </div>\r\n            </FixedLayout>\r\n        </>\r\n    )\r\n}","import React, { useState } from 'react';\r\nimport { View, AdaptivityProvider, AppRoot, ConfigProvider, SplitLayout, SplitCol, PanelHeader, Epic, Tabbar, TabbarItem, Panel } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './styles/index.css'\r\nimport { Icon28MessageOutline, Icon28NewsfeedOutline, Icon28UserCircleOutline } from '@vkontakte/icons';\r\nimport { Events } from './panels/events';\r\nimport { Messages } from './panels/messages';\r\nimport { Profile } from './panels/profile';\r\nimport { Chat } from './panels/chat';\r\n\r\nconst App = () => {\r\n\tconst [scheme, setScheme] = useState('bright_light')\r\n\tconst [activeStory, setActiveStory] = React.useState(\"events\")\r\n\tconst [messagesActivePanel, setMessagesActivePanel] = useState(\"messages\")\r\n\tconst [chatID, setChatID] = useState(null)\r\n\tconst [hasTabbar, setHasTabbar] = useState(true)\r\n\tconst onStoryChange = (e) => setActiveStory(e.currentTarget.dataset.story)\r\n\r\n\tconst openChatHandler = (chat_id) => {\r\n\t\tsetChatID(chat_id)\r\n\t\tsetMessagesActivePanel(\"chat\")\r\n\t\tsetHasTabbar(false)\r\n\t}\r\n\r\n\tconst closeChatHanler = () => {\r\n\t\tsetMessagesActivePanel(\"messages\")\r\n\t\tsetHasTabbar(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ConfigProvider scheme={scheme}>\r\n\t\t\t<AdaptivityProvider>\r\n\t\t\t\t<AppRoot>\r\n\t\t\t\t\t<SplitLayout\r\n\t\t\t\t\t\theader={<PanelHeader separator={false} />}\r\n\t\t\t\t\t\tstyle={{ justifyContent: \"center\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SplitCol\r\n\t\t\t\t\t\t\tanimate={true}\r\n\t\t\t\t\t\t\tspaced={false}\r\n\t\t\t\t\t\t\twidth={\"100%\"}\r\n\t\t\t\t\t\t\tmaxWidth={\"100%\"}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Epic\r\n\t\t\t\t\t\t\t\tactiveStory={activeStory}\r\n\t\t\t\t\t\t\t\ttabbar={hasTabbar &&\r\n\t\t\t\t\t\t\t\t\t<Tabbar>\r\n\t\t\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\t\t\t\t\t\t\tselected={activeStory === \"events\"}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-story=\"events\"\r\n\t\t\t\t\t\t\t\t\t\t\ttext=\"События\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon28NewsfeedOutline />\r\n\t\t\t\t\t\t\t\t\t\t</TabbarItem>\r\n\t\t\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\t\t\t\t\t\t\tselected={activeStory === \"messages\"}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-story=\"messages\"\r\n\t\t\t\t\t\t\t\t\t\t\ttext=\"Сообщения\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon28MessageOutline />\r\n\t\t\t\t\t\t\t\t\t\t</TabbarItem>\r\n\t\t\t\t\t\t\t\t\t\t<TabbarItem\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={onStoryChange}\r\n\t\t\t\t\t\t\t\t\t\t\tselected={activeStory === \"profile\"}\r\n\t\t\t\t\t\t\t\t\t\t\tdata-story=\"profile\"\r\n\t\t\t\t\t\t\t\t\t\t\ttext=\"Профиль\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Icon28UserCircleOutline />\r\n\t\t\t\t\t\t\t\t\t\t</TabbarItem>\r\n\t\t\t\t\t\t\t\t\t</Tabbar>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<View id=\"events\" activePanel=\"events\">\r\n\t\t\t\t\t\t\t\t\t<Panel id=\"events\">\r\n\t\t\t\t\t\t\t\t\t\t<Events />\r\n\t\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t<View id=\"messages\" activePanel={messagesActivePanel}>\r\n\t\t\t\t\t\t\t\t\t<Panel id=\"messages\">\r\n\t\t\t\t\t\t\t\t\t \t<Messages\r\n\t\t\t\t\t\t\t\t\t\t\tonChatOpen={openChatHandler}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t\t\t<Panel id=\"chat\" className=\"chatPanel\">\r\n\t\t\t\t\t\t\t\t\t\t<Chat chatID={chatID} onClose={closeChatHanler}/>\r\n\t\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t<View id=\"profile\" activePanel=\"profile\">\r\n\t\t\t\t\t\t\t\t\t<Panel id=\"profile\">\r\n\t\t\t\t\t\t\t\t\t\t<Profile/>\r\n\t\t\t\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t</Epic>\r\n\t\t\t\t\t\t</SplitCol>\r\n\t\t\t\t\t</SplitLayout>\r\n\t\t\t\t</AppRoot>\r\n\t\t\t</AdaptivityProvider>\r\n\t\t</ConfigProvider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport App from \"./App\";\r\n\r\n// Init VK  Mini App\r\nbridge.send(\"VKWebAppInit\");\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// if (process.env.NODE_ENV === \"development\") {\r\n//   import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\r\n// }\r\n"],"sourceRoot":""}